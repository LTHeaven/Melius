const pixelCount = 800;
const transitionFrames = 90;
const verticeRadius = 8;
var screenScale = 1;
var frame = 0;
var verticeOpacity = 0;
var phi = 1.6180339887;
var phidifference = 0.0035;
var state = 0;
var heartSlide;
var graphSlide;
var teamSlide;
var brainSlide;
var imageData = {points: new Array(pixelCount), vertices: []};
var currentImage;
var heart = {points: new Array(pixelCount), vertices: []};
var graph = {points: new Array(pixelCount), vertices: []};
var team = {points: new Array(pixelCount), vertices: []};
var brain = {points: new Array(pixelCount), vertices: []};
var atTransitionBegin = {points: new Array(pixelCount), vertices: []};

function scaleCoord(coord) {
    return coord*screenScale;
}

function updateTransitionBegin() {
    imageData.points.forEach(function (point, index) {
       atTransitionBegin.points[index] = {
           x: point.x,
           y: point.y
       };
    });
    atTransitionBegin.vertices = [...imageData.vertices];
}

function initFor(pattern, target, x1, y1, width, height) {
    for (var i = 0; i < 800; i++){
        patternPoint = pattern.points[i%pattern.points.length];
        setPixel(i, x1+width*patternPoint.x, y1+height*patternPoint.y, target.points);
    }
    pattern.vertices.forEach(function (vertice) {
       target.vertices.push({
           point1: {
               x: x1 + width*vertice.point1.x,
               y: y1 + width*vertice.point1.y
           },
           point2: {
               x: x1 + width*vertice.point2.x,
               y: y1 + width*vertice.point2.y
           }
       });
    });
    shuffle(target.points);
}

function initSlides() {
    initFor(heartPattern, heart, 50, 50, 620, 620);
    initFor(graphPattern, graph, 100, 100, 520, 520);
    initFor(teamPattern, team, 0, 0, 720, 720);
    initFor(brainPattern, brain, 50, 50, 620, 620);
}

function preload() {
    heartSlide = loadImage("./images/heartSlide.png");
}

function setup() {
    createCanvas(scaleCoord(1280), scaleCoord(720));
    stroke(255);
    fill(0);
    frameRate(60);
    initSlides();
}

function getAngle(){
    if (frame*4 < 800){
        return ((frame*4)/800 * phidifference) + (phi-phidifference);
    } else{
        return phi;
    }
}
function setPixel(index, x, y, array){
    array[index] = {
        x: x,
        y: y
    };
}

function drawIntro(){
    for (var i = 0; i<frame*4 && i < 800; i++){
        x = i * cos(getAngle()*2*PI*i);
        y = i * sin(getAngle()*2*PI*i);
        setPixel(i, x + scaleCoord(680), y + scaleCoord(360), imageData.points);
    }
    if (frame*4 > 860) {
        state = 1;
        frame = 0;
        updateTransitionBegin();
    }
}

function draw() {
    frame++;
    clear();
    background(0,0,0);
    switch (state) {
        case 0:
            drawIntro();
            break;
        case 1:
            transition(heart, heartSlide, 2);
            break;
        case 2:
            transition(graph, graphSlide, 3);
            break;
        case 3:
            transition(team, teamSlide, 4);
            break;
        case 4:
            transition(brain, brainSlide, 5);
            break;

    }
    fill(255);
    imageData.points.forEach(function (pixel, index) {
        circle(scaleCoord(pixel.x), scaleCoord(pixel.y),scaleCoord(3));
    });
    imageData.vertices.forEach(function (vertice) {
        stroke(verticeOpacity*255);
        strokeWeight(3);
        let x1 = vertice.point1.x;
        let y1 = vertice.point1.y;
        let x2 = vertice.point2.x;
        let y2 = vertice.point2.y;
        line(
            x1 + ((x2-x1)/sqrt(pow(x2-x1, 2) + pow(y2-y1,2))) * verticeRadius,
            y1 + ((y2-y1)/sqrt(pow(x2-x1, 2) + pow(y2-y1,2))) * verticeRadius,
            x2 + ((x1-x2)/sqrt(pow(x1-x2, 2) + pow(y1-y2,2))) * verticeRadius,
            y2 + ((y1-y2)/sqrt(pow(x1-x2, 2) + pow(y1-y2,2))) * verticeRadius
        );
        stroke(255);
        strokeWeight(1);
    });
    tint(255*verticeOpacity,255*verticeOpacity,255*verticeOpacity);
    if(typeof currentImage !== 'undefined'){
        image(currentImage, 0, 0);
    }
}

function transition(target, slide, stateAfterCompletion){
    if(frame < transitionFrames){
        let transitionFactor = frame / transitionFrames;
        for (var i = 0; i<pixelCount; i++){
            originalX = atTransitionBegin.points[i].x;
            originalY = atTransitionBegin.points[i].y;
            targetX = target.points[i].x;
            targetY = target.points[i].y;
            imageData.points[i].x = originalX + (targetX - originalX)*((cos(PI + PI*transitionFactor)+1)/2);
            imageData.points[i].y = originalY + (targetY - originalY)*((cos(PI + PI*transitionFactor)+1)/2);
        }
        if (frame > transitionFrames/2){
            imageData.vertices = target.vertices;
            currentImage = slide;
            verticeOpacity = (frame/transitionFrames-0.75)*4;
        }
        if (frame < transitionFrames/2){
            verticeOpacity = 1-(frame/transitionFrames-0.1)*10;
        }
    }else{
        if(keyIsPressed){
            state = stateAfterCompletion;
            frame = 0;
            updateTransitionBegin();
        }
    }
}


/**
 * Shuffles array in place.
 * @param {Array} a items An array containing the items.
 */
function shuffle(a) {
    var j, x, i;
    for (i = a.length - 1; i > 0; i--) {
        j = Math.floor(Math.random() * (i + 1));
        x = a[i];
        a[i] = a[j];
        a[j] = x;
    }
    return a;
}


var brainPattern = {
    points: [
        {x: 0.37209302325581395, y: 0.06046511627906977},
        {x: 0.4930232558139535, y: 0.05465116279069768},
        {x: 0.6453488372093024, y: 0.08255813953488372},
        {x: 0.7755813953488372, y: 0.12906976744186047},
        {x: 0.8546511627906976, y: 0.1883720930232558},
        {x: 0.8790697674418605, y: 0.22674418604651161},
        {x: 0.922093023255814, y: 0.2755813953488372},
        {x: 0.9546511627906977, y: 0.3453488372093023},
        {x: 0.9372093023255814, y: 0.42093023255813955},
        {x: 0.9011627906976745, y: 0.47093023255813954},
        {x: 0.8953488372093024, y: 0.5488372093023256},
        {x: 0.8627906976744186, y: 0.6383720930232558},
        {x: 0.7686046511627908, y: 0.6732558139534883},
        {x: 0.7255813953488373, y: 0.736046511627907},
        {x: 0.7523255813953489, y: 0.8058139534883721},
        {x: 0.7255813953488373, y: 0.8220930232558139},
        {x: 0.7058139534883721, y: 0.8255813953488372},
        {x: 0.6313953488372093, y: 0.7232558139534884},
        {x: 0.6779069767441861, y: 0.7825581395348837},
        {x: 0.5476744186046512, y: 0.6232558139534884},
        {x: 0.4848837209302326, y: 0.5755813953488372},
        {x: 0.4104651162790698, y: 0.6360465116279069},
        {x: 0.29186046511627906, y: 0.5976744186046512},
        {x: 0.26627906976744187, y: 0.5337209302325582},
        {x: 0.18953488372093022, y: 0.5279069767441861},
        {x: 0.07093023255813953, y: 0.4662790697674419},
        {x: 0.05581395348837209, y: 0.40581395348837207},
        {x: 0.07093023255813953, y: 0.31046511627906975},
        {x: 0.1313953488372093, y: 0.22325581395348837},
        {x: 0.2686046511627907, y: 0.1127906976744186},
        {x: 0.21744186046511627, y: 0.2302325581395349},
        {x: 0.31046511627906975, y: 0.17325581395348838},
        {x: 0.45, y: 0.1313953488372093},
        {x: 0.4965116279069767, y: 0.1755813953488372},
        {x: 0.5104651162790698, y: 0.09883720930232558},
        {x: 0.6930232558139535, y: 0.12558139534883722},
        {x: 0.7418604651162791, y: 0.22093023255813954},
        {x: 0.8546511627906976, y: 0.2872093023255814},
        {x: 0.8418604651162791, y: 0.3453488372093023},
        {x: 0.8453488372093023, y: 0.436046511627907},
        {x: 0.7686046511627908, y: 0.4883720930232558},
        {x: 0.7453488372093023, y: 0.5337209302325582},
        {x: 0.6453488372093024, y: 0.622093023255814},
        {x: 0.6534883720930232, y: 0.7104651162790697},
        {x: 0.5720930232558139, y: 0.6151162790697674},
        {x: 0.5744186046511628, y: 0.5918604651162791},
        {x: 0.5232558139534884, y: 0.5441860465116279},
        {x: 0.34651162790697676, y: 0.5767441860465117},
        {x: 0.27209302325581397, y: 0.5011627906976744},
        {x: 0.32558139534883723, y: 0.43023255813953487},
        {x: 0.2686046511627907, y: 0.42209302325581394},
        {x: 0.10348837209302325, y: 0.45813953488372094},
        {x: 0.11744186046511627, y: 0.3627906976744186},
        {x: 0.19534883720930232, y: 0.3267441860465116},
        {x: 0.4232558139534884, y: 0.34767441860465115},
        {x: 0.3813953488372093, y: 0.2813953488372093},
        {x: 0.4441860465116279, y: 0.2441860465116279},
        {x: 0.5011627906976744, y: 0.3023255813953488},
        {x: 0.6697674418604651, y: 0.2872093023255814},
        {x: 0.6034883720930233, y: 0.2941860465116279},
        {x: 0.6174418604651163, y: 0.3674418604651163},
        {x: 0.763953488372093, y: 0.3767441860465116},
        {x: 0.7267441860465116, y: 0.4558139534883721},
        {x: 0.6313953488372093, y: 0.5162790697674419},
        {x: 0.44883720930232557, y: 0.43372093023255814},
    ], vertices: [
        {point1: {x: 0.8546511627906976, y: 0.1883720930232558}, point2: {x: 0.8790697674418605, y: 0.22674418604651161}},
        {point1: {x: 0.8790697674418605, y: 0.22674418604651161}, point2: {x: 0.922093023255814, y: 0.2755813953488372}},
        {point1: {x: 0.922093023255814, y: 0.2755813953488372}, point2: {x: 0.9546511627906977, y: 0.3453488372093023}},
        {point1: {x: 0.9546511627906977, y: 0.3453488372093023}, point2: {x: 0.9372093023255814, y: 0.42093023255813955}},
        {point1: {x: 0.9372093023255814, y: 0.42093023255813955}, point2: {x: 0.9011627906976745, y: 0.47093023255813954}},
        {point1: {x: 0.9011627906976745, y: 0.47093023255813954}, point2: {x: 0.8953488372093024, y: 0.5488372093023256}},
        {point1: {x: 0.8953488372093024, y: 0.5488372093023256}, point2: {x: 0.8627906976744186, y: 0.6383720930232558}},
        {point1: {x: 0.8627906976744186, y: 0.6383720930232558}, point2: {x: 0.7686046511627908, y: 0.6732558139534883}},
        {point1: {x: 0.7686046511627908, y: 0.6732558139534883}, point2: {x: 0.7255813953488373, y: 0.736046511627907}},
        {point1: {x: 0.7255813953488373, y: 0.736046511627907}, point2: {x: 0.7523255813953489, y: 0.8058139534883721}},
        {point1: {x: 0.7523255813953489, y: 0.8058139534883721}, point2: {x: 0.7255813953488373, y: 0.8220930232558139}},
        {point1: {x: 0.7255813953488373, y: 0.8220930232558139}, point2: {x: 0.7058139534883721, y: 0.8255813953488372}},
        {point1: {x: 0.7058139534883721, y: 0.8255813953488372}, point2: {x: 0.6779069767441861, y: 0.7825581395348837}},
        {point1: {x: 0.6313953488372093, y: 0.7232558139534884}, point2: {x: 0.6779069767441861, y: 0.7825581395348837}},
        {point1: {x: 0.6313953488372093, y: 0.7232558139534884}, point2: {x: 0.5476744186046512, y: 0.6232558139534884}},
        {point1: {x: 0.5476744186046512, y: 0.6232558139534884}, point2: {x: 0.4848837209302326, y: 0.5755813953488372}},
        {point1: {x: 0.4848837209302326, y: 0.5755813953488372}, point2: {x: 0.4104651162790698, y: 0.6360465116279069}},
        {point1: {x: 0.4104651162790698, y: 0.6360465116279069}, point2: {x: 0.29186046511627906, y: 0.5976744186046512}},
        {point1: {x: 0.29186046511627906, y: 0.5976744186046512}, point2: {x: 0.26627906976744187, y: 0.5337209302325582}},
        {point1: {x: 0.26627906976744187, y: 0.5337209302325582}, point2: {x: 0.18953488372093022, y: 0.5279069767441861}},
        {point1: {x: 0.18953488372093022, y: 0.5279069767441861}, point2: {x: 0.07093023255813953, y: 0.4662790697674419}},
        {point1: {x: 0.07093023255813953, y: 0.4662790697674419}, point2: {x: 0.05581395348837209, y: 0.40581395348837207}},
        {point1: {x: 0.05581395348837209, y: 0.40581395348837207}, point2: {x: 0.07093023255813953, y: 0.31046511627906975}},
        {point1: {x: 0.07093023255813953, y: 0.31046511627906975}, point2: {x: 0.1313953488372093, y: 0.22325581395348837}},
        {point1: {x: 0.1313953488372093, y: 0.22325581395348837}, point2: {x: 0.2686046511627907, y: 0.1127906976744186}},
        {point1: {x: 0.37209302325581395, y: 0.06046511627906977}, point2: {x: 0.2686046511627907, y: 0.1127906976744186}},
        {point1: {x: 0.37209302325581395, y: 0.06046511627906977}, point2: {x: 0.4930232558139535, y: 0.05465116279069768}},
        {point1: {x: 0.4930232558139535, y: 0.05465116279069768}, point2: {x: 0.6453488372093024, y: 0.08255813953488372}},
        {point1: {x: 0.6453488372093024, y: 0.08255813953488372}, point2: {x: 0.7755813953488372, y: 0.12906976744186047}},
        {point1: {x: 0.7755813953488372, y: 0.12906976744186047}, point2: {x: 0.8546511627906976, y: 0.1883720930232558}},
        {point1: {x: 0.8546511627906976, y: 0.1883720930232558}, point2: {x: 0.7418604651162791, y: 0.22093023255813954}},
        {point1: {x: 0.7418604651162791, y: 0.22093023255813954}, point2: {x: 0.8546511627906976, y: 0.2872093023255814}},
        {point1: {x: 0.8546511627906976, y: 0.1883720930232558}, point2: {x: 0.8546511627906976, y: 0.2872093023255814}},
        {point1: {x: 0.8790697674418605, y: 0.22674418604651161}, point2: {x: 0.8546511627906976, y: 0.2872093023255814}},
        {point1: {x: 0.922093023255814, y: 0.2755813953488372}, point2: {x: 0.8546511627906976, y: 0.2872093023255814}},
        {point1: {x: 0.8546511627906976, y: 0.2872093023255814}, point2: {x: 0.8418604651162791, y: 0.3453488372093023}},
        {point1: {x: 0.922093023255814, y: 0.2755813953488372}, point2: {x: 0.9372093023255814, y: 0.42093023255813955}},
        {point1: {x: 0.9372093023255814, y: 0.42093023255813955}, point2: {x: 0.8453488372093023, y: 0.436046511627907}},
        {point1: {x: 0.8418604651162791, y: 0.3453488372093023}, point2: {x: 0.8453488372093023, y: 0.436046511627907}},
        {point1: {x: 0.9011627906976745, y: 0.47093023255813954}, point2: {x: 0.8453488372093023, y: 0.436046511627907}},
        {point1: {x: 0.8453488372093023, y: 0.436046511627907}, point2: {x: 0.7686046511627908, y: 0.4883720930232558}},
        {point1: {x: 0.9011627906976745, y: 0.47093023255813954}, point2: {x: 0.7686046511627908, y: 0.4883720930232558}},
        {point1: {x: 0.8953488372093024, y: 0.5488372093023256}, point2: {x: 0.7686046511627908, y: 0.4883720930232558}},
        {point1: {x: 0.8953488372093024, y: 0.5488372093023256}, point2: {x: 0.7686046511627908, y: 0.6732558139534883}},
        {point1: {x: 0.7686046511627908, y: 0.4883720930232558}, point2: {x: 0.7453488372093023, y: 0.5337209302325582}},
        {point1: {x: 0.7453488372093023, y: 0.5337209302325582}, point2: {x: 0.6453488372093024, y: 0.622093023255814}},
        {point1: {x: 0.6453488372093024, y: 0.622093023255814}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.7686046511627908, y: 0.6732558139534883}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.7686046511627908, y: 0.6732558139534883}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.7255813953488373, y: 0.736046511627907}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.7523255813953489, y: 0.8058139534883721}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.7255813953488373, y: 0.8220930232558139}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.6779069767441861, y: 0.7825581395348837}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.6313953488372093, y: 0.7232558139534884}, point2: {x: 0.6534883720930232, y: 0.7104651162790697}},
        {point1: {x: 0.6313953488372093, y: 0.7232558139534884}, point2: {x: 0.5720930232558139, y: 0.6151162790697674}},
        {point1: {x: 0.5720930232558139, y: 0.6151162790697674}, point2: {x: 0.5744186046511628, y: 0.5918604651162791}},
        {point1: {x: 0.6534883720930232, y: 0.7104651162790697}, point2: {x: 0.5744186046511628, y: 0.5918604651162791}},
        {point1: {x: 0.6453488372093024, y: 0.622093023255814}, point2: {x: 0.5744186046511628, y: 0.5918604651162791}},
        {point1: {x: 0.5476744186046512, y: 0.6232558139534884}, point2: {x: 0.5720930232558139, y: 0.6151162790697674}},
        {point1: {x: 0.4848837209302326, y: 0.5755813953488372}, point2: {x: 0.5744186046511628, y: 0.5918604651162791}},
        {point1: {x: 0.4848837209302326, y: 0.5755813953488372}, point2: {x: 0.5720930232558139, y: 0.6151162790697674}},
        {point1: {x: 0.4848837209302326, y: 0.5755813953488372}, point2: {x: 0.5232558139534884, y: 0.5441860465116279}},
        {point1: {x: 0.5744186046511628, y: 0.5918604651162791}, point2: {x: 0.5232558139534884, y: 0.5441860465116279}},
        {point1: {x: 0.5744186046511628, y: 0.5918604651162791}, point2: {x: 0.6313953488372093, y: 0.5162790697674419}},
        {point1: {x: 0.7453488372093023, y: 0.5337209302325582}, point2: {x: 0.6313953488372093, y: 0.5162790697674419}},
        {point1: {x: 0.7686046511627908, y: 0.4883720930232558}, point2: {x: 0.6313953488372093, y: 0.5162790697674419}},
        {point1: {x: 0.5232558139534884, y: 0.5441860465116279}, point2: {x: 0.6313953488372093, y: 0.5162790697674419}},
        {point1: {x: 0.7267441860465116, y: 0.4558139534883721}, point2: {x: 0.6313953488372093, y: 0.5162790697674419}},
        {point1: {x: 0.7686046511627908, y: 0.4883720930232558}, point2: {x: 0.7267441860465116, y: 0.4558139534883721}},
        {point1: {x: 0.8453488372093023, y: 0.436046511627907}, point2: {x: 0.7267441860465116, y: 0.4558139534883721}},
        {point1: {x: 0.763953488372093, y: 0.3767441860465116}, point2: {x: 0.7267441860465116, y: 0.4558139534883721}},
        {point1: {x: 0.8418604651162791, y: 0.3453488372093023}, point2: {x: 0.763953488372093, y: 0.3767441860465116}},
        {point1: {x: 0.8546511627906976, y: 0.2872093023255814}, point2: {x: 0.763953488372093, y: 0.3767441860465116}},
        {point1: {x: 0.6174418604651163, y: 0.3674418604651163}, point2: {x: 0.7267441860465116, y: 0.4558139534883721}},
        {point1: {x: 0.6174418604651163, y: 0.3674418604651163}, point2: {x: 0.763953488372093, y: 0.3767441860465116}},
        {point1: {x: 0.6697674418604651, y: 0.2872093023255814}, point2: {x: 0.763953488372093, y: 0.3767441860465116}},
        {point1: {x: 0.6697674418604651, y: 0.2872093023255814}, point2: {x: 0.6174418604651163, y: 0.3674418604651163}},
        {point1: {x: 0.6034883720930233, y: 0.2941860465116279}, point2: {x: 0.6174418604651163, y: 0.3674418604651163}},
        {point1: {x: 0.6697674418604651, y: 0.2872093023255814}, point2: {x: 0.6034883720930233, y: 0.2941860465116279}},
        {point1: {x: 0.7418604651162791, y: 0.22093023255813954}, point2: {x: 0.6697674418604651, y: 0.2872093023255814}},
        {point1: {x: 0.6313953488372093, y: 0.5162790697674419}, point2: {x: 0.44883720930232557, y: 0.43372093023255814}},
        {point1: {x: 0.5232558139534884, y: 0.5441860465116279}, point2: {x: 0.44883720930232557, y: 0.43372093023255814}},
        {point1: {x: 0.6174418604651163, y: 0.3674418604651163}, point2: {x: 0.44883720930232557, y: 0.43372093023255814}},
        {point1: {x: 0.5232558139534884, y: 0.5441860465116279}, point2: {x: 0.34651162790697676, y: 0.5767441860465117}},
        {point1: {x: 0.4104651162790698, y: 0.6360465116279069}, point2: {x: 0.34651162790697676, y: 0.5767441860465117}},
        {point1: {x: 0.34651162790697676, y: 0.5767441860465117}, point2: {x: 0.27209302325581397, y: 0.5011627906976744}},
        {point1: {x: 0.26627906976744187, y: 0.5337209302325582}, point2: {x: 0.27209302325581397, y: 0.5011627906976744}},
        {point1: {x: 0.18953488372093022, y: 0.5279069767441861}, point2: {x: 0.27209302325581397, y: 0.5011627906976744}},
        {point1: {x: 0.27209302325581397, y: 0.5011627906976744}, point2: {x: 0.32558139534883723, y: 0.43023255813953487}},
        {point1: {x: 0.34651162790697676, y: 0.5767441860465117}, point2: {x: 0.32558139534883723, y: 0.43023255813953487}},
        {point1: {x: 0.32558139534883723, y: 0.43023255813953487}, point2: {x: 0.44883720930232557, y: 0.43372093023255814}},
        {point1: {x: 0.32558139534883723, y: 0.43023255813953487}, point2: {x: 0.2686046511627907, y: 0.42209302325581394}},
        {point1: {x: 0.18953488372093022, y: 0.5279069767441861}, point2: {x: 0.2686046511627907, y: 0.42209302325581394}},
        {point1: {x: 0.18953488372093022, y: 0.5279069767441861}, point2: {x: 0.19534883720930232, y: 0.3267441860465116}},
        {point1: {x: 0.2686046511627907, y: 0.42209302325581394}, point2: {x: 0.19534883720930232, y: 0.3267441860465116}},
        {point1: {x: 0.18953488372093022, y: 0.5279069767441861}, point2: {x: 0.10348837209302325, y: 0.45813953488372094}},
        {point1: {x: 0.07093023255813953, y: 0.4662790697674419}, point2: {x: 0.10348837209302325, y: 0.45813953488372094}},
        {point1: {x: 0.07093023255813953, y: 0.4662790697674419}, point2: {x: 0.05581395348837209, y: 0.40581395348837207}},
        {point1: {x: 0.05581395348837209, y: 0.40581395348837207}, point2: {x: 0.11744186046511627, y: 0.3627906976744186}},
        {point1: {x: 0.10348837209302325, y: 0.45813953488372094}, point2: {x: 0.11744186046511627, y: 0.3627906976744186}},
        {point1: {x: 0.11744186046511627, y: 0.3627906976744186}, point2: {x: 0.19534883720930232, y: 0.3267441860465116}},
        {point1: {x: 0.07093023255813953, y: 0.31046511627906975}, point2: {x: 0.19534883720930232, y: 0.3267441860465116}},
        {point1: {x: 0.07093023255813953, y: 0.31046511627906975}, point2: {x: 0.11744186046511627, y: 0.3627906976744186}},
        {point1: {x: 0.32558139534883723, y: 0.43023255813953487}, point2: {x: 0.19534883720930232, y: 0.3267441860465116}},
        {point1: {x: 0.19534883720930232, y: 0.3267441860465116}, point2: {x: 0.4232558139534884, y: 0.34767441860465115}},
        {point1: {x: 0.32558139534883723, y: 0.43023255813953487}, point2: {x: 0.4232558139534884, y: 0.34767441860465115}},
        {point1: {x: 0.4232558139534884, y: 0.34767441860465115}, point2: {x: 0.44883720930232557, y: 0.43372093023255814}},
        {point1: {x: 0.4232558139534884, y: 0.34767441860465115}, point2: {x: 0.5011627906976744, y: 0.3023255813953488}},
        {point1: {x: 0.5011627906976744, y: 0.3023255813953488}, point2: {x: 0.6174418604651163, y: 0.3674418604651163}},
        {point1: {x: 0.5011627906976744, y: 0.3023255813953488}, point2: {x: 0.6034883720930233, y: 0.2941860465116279}},
        {point1: {x: 0.7755813953488372, y: 0.12906976744186047}, point2: {x: 0.7418604651162791, y: 0.22093023255813954}},
        {point1: {x: 0.6930232558139535, y: 0.12558139534883722}, point2: {x: 0.7418604651162791, y: 0.22093023255813954}},
        {point1: {x: 0.6453488372093024, y: 0.08255813953488372}, point2: {x: 0.7418604651162791, y: 0.22093023255813954}},
        {point1: {x: 0.6453488372093024, y: 0.08255813953488372}, point2: {x: 0.6930232558139535, y: 0.12558139534883722}},
        {point1: {x: 0.7755813953488372, y: 0.12906976744186047}, point2: {x: 0.6930232558139535, y: 0.12558139534883722}},
        {point1: {x: 0.4965116279069767, y: 0.1755813953488372}, point2: {x: 0.7418604651162791, y: 0.22093023255813954}},
        {point1: {x: 0.4965116279069767, y: 0.1755813953488372}, point2: {x: 0.4441860465116279, y: 0.2441860465116279}},
        {point1: {x: 0.4441860465116279, y: 0.2441860465116279}, point2: {x: 0.5011627906976744, y: 0.3023255813953488}},
        {point1: {x: 0.4232558139534884, y: 0.34767441860465115}, point2: {x: 0.4441860465116279, y: 0.2441860465116279}},
        {point1: {x: 0.4232558139534884, y: 0.34767441860465115}, point2: {x: 0.3813953488372093, y: 0.2813953488372093}},
        {point1: {x: 0.3813953488372093, y: 0.2813953488372093}, point2: {x: 0.4441860465116279, y: 0.2441860465116279}},
        {point1: {x: 0.19534883720930232, y: 0.3267441860465116}, point2: {x: 0.3813953488372093, y: 0.2813953488372093}},
        {point1: {x: 0.21744186046511627, y: 0.2302325581395349}, point2: {x: 0.19534883720930232, y: 0.3267441860465116}},
        {point1: {x: 0.1313953488372093, y: 0.22325581395348837}, point2: {x: 0.21744186046511627, y: 0.2302325581395349}},
        {point1: {x: 0.1313953488372093, y: 0.22325581395348837}, point2: {x: 0.19534883720930232, y: 0.3267441860465116}},
        {point1: {x: 0.21744186046511627, y: 0.2302325581395349}, point2: {x: 0.31046511627906975, y: 0.17325581395348838}},
        {point1: {x: 0.31046511627906975, y: 0.17325581395348838}, point2: {x: 0.3813953488372093, y: 0.2813953488372093}},
        {point1: {x: 0.45, y: 0.1313953488372093}, point2: {x: 0.4441860465116279, y: 0.2441860465116279}},
        {point1: {x: 0.45, y: 0.1313953488372093}, point2: {x: 0.4965116279069767, y: 0.1755813953488372}},
        {point1: {x: 0.4965116279069767, y: 0.1755813953488372}, point2: {x: 0.5104651162790698, y: 0.09883720930232558}},
        {point1: {x: 0.45, y: 0.1313953488372093}, point2: {x: 0.5104651162790698, y: 0.09883720930232558}},
        {point1: {x: 0.6453488372093024, y: 0.08255813953488372}, point2: {x: 0.5104651162790698, y: 0.09883720930232558}},
        {point1: {x: 0.4930232558139535, y: 0.05465116279069768}, point2: {x: 0.5104651162790698, y: 0.09883720930232558}},
        {point1: {x: 0.4930232558139535, y: 0.05465116279069768}, point2: {x: 0.45, y: 0.1313953488372093}},
        {point1: {x: 0.37209302325581395, y: 0.06046511627906977}, point2: {x: 0.45, y: 0.1313953488372093}},
        {point1: {x: 0.37209302325581395, y: 0.06046511627906977}, point2: {x: 0.31046511627906975, y: 0.17325581395348838}},
        {point1: {x: 0.31046511627906975, y: 0.17325581395348838}, point2: {x: 0.45, y: 0.1313953488372093}},
        {point1: {x: 0.2686046511627907, y: 0.1127906976744186}, point2: {x: 0.21744186046511627, y: 0.2302325581395349}},
        {point1: {x: 0.8953488372093024, y: 0.5488372093023256}, point2: {x: 0.7453488372093023, y: 0.5337209302325582}},
    ]
};

var teamPattern = {
    points: [
        {x: 0.24647887323943662, y: 0.061619718309859156},
        {x: 0.3380281690140845, y: 0.08626760563380281},
        {x: 0.34330985915492956, y: 0.12852112676056338},
        {x: 0.2605633802816901, y: 0.09859154929577464},
        {x: 0.24647887323943662, y: 0.1954225352112676},
        {x: 0.3503521126760563, y: 0.1954225352112676},
        {x: 0.40316901408450706, y: 0.34330985915492956},
        {x: 0.4964788732394366, y: 0.2992957746478873},
        {x: 0.5545774647887324, y: 0.3961267605633803},
        {x: 0.5827464788732394, y: 0.1602112676056338},
        {x: 0.551056338028169, y: 0.17781690140845072},
        {x: 0.5651408450704225, y: 0.13556338028169015},
        {x: 0.5475352112676056, y: 0.12852112676056338},
        {x: 0.6003521126760564, y: 0.11267605633802817},
        {x: 0.20774647887323944, y: 0.3415492957746479},
        {x: 0.1619718309859155, y: 0.25},
        {x: 0.0721830985915493, y: 0.44014084507042256},
        {x: 0.16725352112676056, y: 0.40316901408450706},
        {x: 0.20598591549295775, y: 0.5264084507042254},
        {x: 0.22535211267605634, y: 0.5211267605633803},
        {x: 0.22535211267605634, y: 0.5140845070422535},
        {x: 0.2112676056338028, y: 0.5580985915492958},
        {x: 0.30809859154929575, y: 0.602112676056338},
        {x: 0.3961267605633803, y: 0.5176056338028169},
        {x: 0.448943661971831, y: 0.9102112676056338},
        {x: 0.24119718309859156, y: 0.9119718309859155},
        {x: 0.23415492957746478, y: 0.721830985915493},
        {x: 0.28169014084507044, y: 0.7183098591549296},
        {x: 0.3573943661971831, y: 0.7077464788732394},
        {x: 0.4242957746478873, y: 0.7341549295774648},
    ], vertices: [
        {point1: {x: 0.30809859154929575, y: 0.602112676056338}, point2: {x: 0.3961267605633803, y: 0.5176056338028169}},
        {point1: {x: 0.30809859154929575, y: 0.602112676056338}, point2: {x: 0.448943661971831, y: 0.9102112676056338}},
        {point1: {x: 0.3961267605633803, y: 0.5176056338028169}, point2: {x: 0.448943661971831, y: 0.9102112676056338}},
        {point1: {x: 0.30809859154929575, y: 0.602112676056338}, point2: {x: 0.3961267605633803, y: 0.5176056338028169}},
        {point1: {x: 0.30809859154929575, y: 0.602112676056338}, point2: {x: 0.24119718309859156, y: 0.9119718309859155}},
        {point1: {x: 0.22535211267605634, y: 0.5140845070422535}, point2: {x: 0.24119718309859156, y: 0.9119718309859155}},
        {point1: {x: 0.22535211267605634, y: 0.5140845070422535}, point2: {x: 0.3961267605633803, y: 0.5176056338028169}},
        {point1: {x: 0.22535211267605634, y: 0.5140845070422535}, point2: {x: 0.30809859154929575, y: 0.602112676056338}},
        {point1: {x: 0.22535211267605634, y: 0.5211267605633803}, point2: {x: 0.2112676056338028, y: 0.5580985915492958}},
        {point1: {x: 0.20598591549295775, y: 0.5264084507042254}, point2: {x: 0.2112676056338028, y: 0.5580985915492958}},
        {point1: {x: 0.20598591549295775, y: 0.5264084507042254}, point2: {x: 0.22535211267605634, y: 0.5211267605633803}},
        {point1: {x: 0.0721830985915493, y: 0.44014084507042256}, point2: {x: 0.20598591549295775, y: 0.5264084507042254}},
        {point1: {x: 0.0721830985915493, y: 0.44014084507042256}, point2: {x: 0.16725352112676056, y: 0.40316901408450706}},
        {point1: {x: 0.16725352112676056, y: 0.40316901408450706}, point2: {x: 0.22535211267605634, y: 0.5211267605633803}},
        {point1: {x: 0.20774647887323944, y: 0.3415492957746479}, point2: {x: 0.16725352112676056, y: 0.40316901408450706}},
        {point1: {x: 0.20774647887323944, y: 0.3415492957746479}, point2: {x: 0.1619718309859155, y: 0.25}},
        {point1: {x: 0.1619718309859155, y: 0.25}, point2: {x: 0.0721830985915493, y: 0.44014084507042256}},
        {point1: {x: 0.20774647887323944, y: 0.3415492957746479}, point2: {x: 0.0721830985915493, y: 0.44014084507042256}},
        {point1: {x: 0.20774647887323944, y: 0.3415492957746479}, point2: {x: 0.3961267605633803, y: 0.5176056338028169}},
        {point1: {x: 0.24647887323943662, y: 0.1954225352112676}, point2: {x: 0.20774647887323944, y: 0.3415492957746479}},
        {point1: {x: 0.24647887323943662, y: 0.1954225352112676}, point2: {x: 0.1619718309859155, y: 0.25}},
        {point1: {x: 0.24647887323943662, y: 0.1954225352112676}, point2: {x: 0.3503521126760563, y: 0.1954225352112676}},
        {point1: {x: 0.3503521126760563, y: 0.1954225352112676}, point2: {x: 0.40316901408450706, y: 0.34330985915492956}},
        {point1: {x: 0.40316901408450706, y: 0.34330985915492956}, point2: {x: 0.4964788732394366, y: 0.2992957746478873}},
        {point1: {x: 0.3503521126760563, y: 0.1954225352112676}, point2: {x: 0.4964788732394366, y: 0.2992957746478873}},
        {point1: {x: 0.40316901408450706, y: 0.34330985915492956}, point2: {x: 0.5545774647887324, y: 0.3961267605633803}},
        {point1: {x: 0.4964788732394366, y: 0.2992957746478873}, point2: {x: 0.5545774647887324, y: 0.3961267605633803}},
        {point1: {x: 0.4964788732394366, y: 0.2992957746478873}, point2: {x: 0.551056338028169, y: 0.17781690140845072}},
        {point1: {x: 0.5827464788732394, y: 0.1602112676056338}, point2: {x: 0.551056338028169, y: 0.17781690140845072}},
        {point1: {x: 0.5545774647887324, y: 0.3961267605633803}, point2: {x: 0.5827464788732394, y: 0.1602112676056338}},
        {point1: {x: 0.5827464788732394, y: 0.1602112676056338}, point2: {x: 0.6003521126760564, y: 0.11267605633802817}},
        {point1: {x: 0.5651408450704225, y: 0.13556338028169015}, point2: {x: 0.6003521126760564, y: 0.11267605633802817}},
        {point1: {x: 0.551056338028169, y: 0.17781690140845072}, point2: {x: 0.5651408450704225, y: 0.13556338028169015}},
        {point1: {x: 0.551056338028169, y: 0.17781690140845072}, point2: {x: 0.5475352112676056, y: 0.12852112676056338}},
        {point1: {x: 0.5651408450704225, y: 0.13556338028169015}, point2: {x: 0.5475352112676056, y: 0.12852112676056338}},
        {point1: {x: 0.34330985915492956, y: 0.12852112676056338}, point2: {x: 0.3503521126760563, y: 0.1954225352112676}},
        {point1: {x: 0.3380281690140845, y: 0.08626760563380281}, point2: {x: 0.34330985915492956, y: 0.12852112676056338}},
        {point1: {x: 0.24647887323943662, y: 0.061619718309859156}, point2: {x: 0.3380281690140845, y: 0.08626760563380281}},
        {point1: {x: 0.24647887323943662, y: 0.061619718309859156}, point2: {x: 0.2605633802816901, y: 0.09859154929577464}},
        {point1: {x: 0.2605633802816901, y: 0.09859154929577464}, point2: {x: 0.24647887323943662, y: 0.1954225352112676}},
        {point1: {x: 0.34330985915492956, y: 0.12852112676056338}, point2: {x: 0.2605633802816901, y: 0.09859154929577464}},
        {point1: {x: 0.40316901408450706, y: 0.34330985915492956}, point2: {x: 0.3961267605633803, y: 0.5176056338028169}},
        {point1: {x: 0.20774647887323944, y: 0.3415492957746479}, point2: {x: 0.22535211267605634, y: 0.5140845070422535}},
        {point1: {x: 0.23415492957746478, y: 0.721830985915493}, point2: {x: 0.28169014084507044, y: 0.7183098591549296}},
        {point1: {x: 0.3961267605633803, y: 0.5176056338028169}, point2: {x: 0.3573943661971831, y: 0.7077464788732394}},
        {point1: {x: 0.3573943661971831, y: 0.7077464788732394}, point2: {x: 0.4242957746478873, y: 0.7341549295774648}},
    ]
};

var heartPattern = {
    points: [
        {x: 0.7610146862483311, y: 0.41255006675567424},
        {x: 0.7676902536715621, y: 0.36315086782376504},
        {x: 0.7409879839786382, y: 0.3404539385847797},
        {x: 0.6355140186915887, y: 0.40053404539385845},
        {x: 0.671562082777036, y: 0.43124165554072097},
        {x: 0.5861148197596796, y: 0.3871829105473965},
        {x: 0.6021361815754339, y: 0.46194926568758343},
        {x: 0.6702269692923899, y: 0.47930574098798395},
        {x: 0.69826435246996, y: 0.49265687583444595},
        {x: 0.7089452603471295, y: 0.6114819759679573},
        {x: 0.5994659546061415, y: 0.616822429906542},
        {x: 0.5861148197596796, y: 0.6355140186915887},
        {x: 0.6889185580774366, y: 0.630173564753004},
        {x: 0.4939919893190921, y: 0.5260347129506008},
        {x: 0.5807743658210948, y: 0.45660881174899864},
        {x: 0.4939919893190921, y: 0.6595460614152203},
        {x: 0.5554072096128171, y: 0.6755674232309746},
        {x: 0.5514018691588785, y: 0.8691588785046729},
        {x: 0.4192256341789052, y: 0.8451268357810414},
        {x: 0.40186915887850466, y: 0.9372496662216289},
        {x: 0.5300400534045394, y: 0.9052069425901201},
        {x: 0.35647530040053405, y: 0.6128170894526035},
        {x: 0.3951935914552737, y: 0.5033377837116155},
        {x: 0.30173564753004006, y: 0.7383177570093458},
        {x: 0.2630173564753004, y: 0.8397863818424566},
        {x: 0.5540720961281709, y: 0.38451268357810414},
        {x: 0.5433911882510013, y: 0.32443257676902537},
        {x: 0.376502002670227, y: 0.4392523364485981},
        {x: 0.4512683578104139, y: 0.32710280373831774},
        {x: 0.5380507343124166, y: 0.2683578104138852},
        {x: 0.3991989319092123, y: 0.2977303070761015},
        {x: 0.417890520694259, y: 0.3684913217623498},
        {x: 0.46328437917222964, y: 0.253671562082777},
        {x: 0.7089452603471295, y: 0.2523364485981308},
        {x: 0.7463284379172229, y: 0.2883845126835781},
        {x: 0.5981308411214953, y: 0.1882510013351135},
        {x: 0.5594125500667557, y: 0.22963951935914553},
        {x: 0.45260347129506007, y: 0.19893190921228304},
        {x: 0.4032042723631509, y: 0.16421895861148197},
        {x: 0.3658210947930574, y: 0.2656875834445928},
        {x: 0.30574098798397864, y: 0.260347129506008},
        {x: 0.2910547396528705, y: 0.2590120160213618},
        {x: 0.3030707610146863, y: 0.43391188251001334},
        {x: 0.30040053404539385, y: 0.38317757009345793},
        {x: 0.2162883845126836, y: 0.2977303070761015},
        {x: 0.1628838451268358, y: 0.4098798397863818},
        {x: 0.07610146862483311, y: 0.38985313751668893},
        {x: 0.07343124165554073, y: 0.4699599465954606},
        {x: 0.21762349799732977, y: 0.5060080106809078},
        {x: 0.11615487316421896, y: 0.5086782376502003},
        {x: 0.12016021361815754, y: 0.5086782376502003},
        {x: 0.14018691588785046, y: 0.3471295060080107},
        {x: 0.1375166889185581, y: 0.27369826435246997},
        {x: 0.20160213618157544, y: 0.24833110814419226},
        {x: 0.19225634178905207, y: 0.18958611481975968},
        {x: 0.253671562082777, y: 0.1842456608811749},
        {x: 0.6662216288384513, y: 0.6315086782376502},
        {x: 0.2416555407209613, y: 0.1829105473965287},
        {x: 0.24032042723631508, y: 0.12817089452603472},
        {x: 0.27369826435246997, y: 0.07476635514018691},
        {x: 0.3324432576769025, y: 0.22296395193591456},
        {x: 0.34979973297730305, y: 0.13351134846461948},
        {x: 0.3471295060080107, y: 0.2109479305740988},
        {x: 0.31108144192256343, y: 0.0801068090787717},
        {x: 0.35246995994659547, y: 0.07476635514018691},
        {x: 0.4098798397863818, y: 0.044058744993324434},
        {x: 0.4499332443257677, y: 0.06141522029372497},
        {x: 0.4606141522029373, y: 0.16955941255006676},
        {x: 0.45660881174899864, y: 0.1068090787716956},
        {x: 0.4766355140186916, y: 0.05874499332443257},
        {x: 0.5287049399198932, y: 0.0520694259012016},
        {x: 0.5594125500667557, y: 0.08945260347129506},
        {x: 0.5460614152202937, y: 0.1802403204272363},
        {x: 0.48464619492656874, y: 0.17356475300400534},
        {x: 0.6381842456608812, y: 0.2590120160213618},
        {x: 0.5767690253671562, y: 0.2630173564753004},
        {x: 0.2683578104138852, y: 0.35246995994659547},
        {x: 0.5554072096128171, y: 0.2643524699599466},
    ], vertices: [
        {point1: {x: 0.69826435246996, y: 0.49265687583444595}, point2: {x: 0.7089452603471295, y: 0.6114819759679573}},
        {point1: {x: 0.6021361815754339, y: 0.46194926568758343}, point2: {x: 0.69826435246996, y: 0.49265687583444595}},
        {point1: {x: 0.671562082777036, y: 0.43124165554072097}, point2: {x: 0.6702269692923899, y: 0.47930574098798395}},
        {point1: {x: 0.6355140186915887, y: 0.40053404539385845}, point2: {x: 0.671562082777036, y: 0.43124165554072097}},
        {point1: {x: 0.6355140186915887, y: 0.40053404539385845}, point2: {x: 0.6021361815754339, y: 0.46194926568758343}},
        {point1: {x: 0.6021361815754339, y: 0.46194926568758343}, point2: {x: 0.5807743658210948, y: 0.45660881174899864}},
        {point1: {x: 0.6355140186915887, y: 0.40053404539385845}, point2: {x: 0.5861148197596796, y: 0.3871829105473965}},
        {point1: {x: 0.5861148197596796, y: 0.3871829105473965}, point2: {x: 0.4939919893190921, y: 0.5260347129506008}},
        {point1: {x: 0.4939919893190921, y: 0.5260347129506008}, point2: {x: 0.5807743658210948, y: 0.45660881174899864}},
        {point1: {x: 0.5994659546061415, y: 0.616822429906542}, point2: {x: 0.4939919893190921, y: 0.5260347129506008}},
        {point1: {x: 0.5861148197596796, y: 0.6355140186915887}, point2: {x: 0.4939919893190921, y: 0.5260347129506008}},
        {point1: {x: 0.5861148197596796, y: 0.6355140186915887}, point2: {x: 0.6889185580774366, y: 0.630173564753004}},
        {point1: {x: 0.7089452603471295, y: 0.6114819759679573}, point2: {x: 0.6889185580774366, y: 0.630173564753004}},
        {point1: {x: 0.7089452603471295, y: 0.6114819759679573}, point2: {x: 0.5994659546061415, y: 0.616822429906542}},
        {point1: {x: 0.5514018691588785, y: 0.8691588785046729}, point2: {x: 0.6662216288384513, y: 0.6315086782376502}},
        {point1: {x: 0.5554072096128171, y: 0.6755674232309746}, point2: {x: 0.5514018691588785, y: 0.8691588785046729}},
        {point1: {x: 0.5861148197596796, y: 0.6355140186915887}, point2: {x: 0.5554072096128171, y: 0.6755674232309746}},
        {point1: {x: 0.5994659546061415, y: 0.616822429906542}, point2: {x: 0.5861148197596796, y: 0.6355140186915887}},
        {point1: {x: 0.5994659546061415, y: 0.616822429906542}, point2: {x: 0.5807743658210948, y: 0.45660881174899864}},
        {point1: {x: 0.4939919893190921, y: 0.5260347129506008}, point2: {x: 0.4939919893190921, y: 0.6595460614152203}},
        {point1: {x: 0.4939919893190921, y: 0.6595460614152203}, point2: {x: 0.5554072096128171, y: 0.6755674232309746}},
        {point1: {x: 0.4939919893190921, y: 0.6595460614152203}, point2: {x: 0.4192256341789052, y: 0.8451268357810414}},
        {point1: {x: 0.5514018691588785, y: 0.8691588785046729}, point2: {x: 0.4192256341789052, y: 0.8451268357810414}},
        {point1: {x: 0.5514018691588785, y: 0.8691588785046729}, point2: {x: 0.5300400534045394, y: 0.9052069425901201}},
        {point1: {x: 0.40186915887850466, y: 0.9372496662216289}, point2: {x: 0.5300400534045394, y: 0.9052069425901201}},
        {point1: {x: 0.4192256341789052, y: 0.8451268357810414}, point2: {x: 0.40186915887850466, y: 0.9372496662216289}},
        {point1: {x: 0.4192256341789052, y: 0.8451268357810414}, point2: {x: 0.35647530040053405, y: 0.6128170894526035}},
        {point1: {x: 0.4192256341789052, y: 0.8451268357810414}, point2: {x: 0.30173564753004006, y: 0.7383177570093458}},
        {point1: {x: 0.35647530040053405, y: 0.6128170894526035}, point2: {x: 0.30173564753004006, y: 0.7383177570093458}},
        {point1: {x: 0.30173564753004006, y: 0.7383177570093458}, point2: {x: 0.2630173564753004, y: 0.8397863818424566}},
        {point1: {x: 0.40186915887850466, y: 0.9372496662216289}, point2: {x: 0.2630173564753004, y: 0.8397863818424566}},
        {point1: {x: 0.2630173564753004, y: 0.8397863818424566}, point2: {x: 0.12016021361815754, y: 0.5086782376502003}},
        {point1: {x: 0.21762349799732977, y: 0.5060080106809078}, point2: {x: 0.12016021361815754, y: 0.5086782376502003}},
        {point1: {x: 0.30173564753004006, y: 0.7383177570093458}, point2: {x: 0.21762349799732977, y: 0.5060080106809078}},
        {point1: {x: 0.07343124165554073, y: 0.4699599465954606}, point2: {x: 0.12016021361815754, y: 0.5086782376502003}},
        {point1: {x: 0.07610146862483311, y: 0.38985313751668893}, point2: {x: 0.07343124165554073, y: 0.4699599465954606}},
        {point1: {x: 0.1628838451268358, y: 0.4098798397863818}, point2: {x: 0.07610146862483311, y: 0.38985313751668893}},
        {point1: {x: 0.1628838451268358, y: 0.4098798397863818}, point2: {x: 0.21762349799732977, y: 0.5060080106809078}},
        {point1: {x: 0.07343124165554073, y: 0.4699599465954606}, point2: {x: 0.21762349799732977, y: 0.5060080106809078}},
        {point1: {x: 0.35647530040053405, y: 0.6128170894526035}, point2: {x: 0.3951935914552737, y: 0.5033377837116155}},
        {point1: {x: 0.4939919893190921, y: 0.5260347129506008}, point2: {x: 0.3951935914552737, y: 0.5033377837116155}},
        {point1: {x: 0.3951935914552737, y: 0.5033377837116155}, point2: {x: 0.376502002670227, y: 0.4392523364485981}},
        {point1: {x: 0.376502002670227, y: 0.4392523364485981}, point2: {x: 0.3030707610146863, y: 0.43391188251001334}},
        {point1: {x: 0.3030707610146863, y: 0.43391188251001334}, point2: {x: 0.21762349799732977, y: 0.5060080106809078}},
        {point1: {x: 0.3030707610146863, y: 0.43391188251001334}, point2: {x: 0.30040053404539385, y: 0.38317757009345793}},
        {point1: {x: 0.30574098798397864, y: 0.260347129506008}, point2: {x: 0.30040053404539385, y: 0.38317757009345793}},
        {point1: {x: 0.30040053404539385, y: 0.38317757009345793}, point2: {x: 0.2683578104138852, y: 0.35246995994659547}},
        {point1: {x: 0.2910547396528705, y: 0.2590120160213618}, point2: {x: 0.2683578104138852, y: 0.35246995994659547}},
        {point1: {x: 0.30574098798397864, y: 0.260347129506008}, point2: {x: 0.2910547396528705, y: 0.2590120160213618}},
        {point1: {x: 0.2162883845126836, y: 0.2977303070761015}, point2: {x: 0.2683578104138852, y: 0.35246995994659547}},
        {point1: {x: 0.2162883845126836, y: 0.2977303070761015}, point2: {x: 0.07610146862483311, y: 0.38985313751668893}},
        {point1: {x: 0.14018691588785046, y: 0.3471295060080107}, point2: {x: 0.1375166889185581, y: 0.27369826435246997}},
        {point1: {x: 0.1375166889185581, y: 0.27369826435246997}, point2: {x: 0.20160213618157544, y: 0.24833110814419226}},
        {point1: {x: 0.2162883845126836, y: 0.2977303070761015}, point2: {x: 0.20160213618157544, y: 0.24833110814419226}},
        {point1: {x: 0.20160213618157544, y: 0.24833110814419226}, point2: {x: 0.253671562082777, y: 0.1842456608811749}},
        {point1: {x: 0.2910547396528705, y: 0.2590120160213618}, point2: {x: 0.253671562082777, y: 0.1842456608811749}},
        {point1: {x: 0.19225634178905207, y: 0.18958611481975968}, point2: {x: 0.253671562082777, y: 0.1842456608811749}},
        {point1: {x: 0.1375166889185581, y: 0.27369826435246997}, point2: {x: 0.19225634178905207, y: 0.18958611481975968}},
        {point1: {x: 0.2416555407209613, y: 0.1829105473965287}, point2: {x: 0.24032042723631508, y: 0.12817089452603472}},
        {point1: {x: 0.24032042723631508, y: 0.12817089452603472}, point2: {x: 0.27369826435246997, y: 0.07476635514018691}},
        {point1: {x: 0.27369826435246997, y: 0.07476635514018691}, point2: {x: 0.31108144192256343, y: 0.0801068090787717}},
        {point1: {x: 0.34979973297730305, y: 0.13351134846461948}, point2: {x: 0.31108144192256343, y: 0.0801068090787717}},
        {point1: {x: 0.34979973297730305, y: 0.13351134846461948}, point2: {x: 0.3471295060080107, y: 0.2109479305740988}},
        {point1: {x: 0.4032042723631509, y: 0.16421895861148197}, point2: {x: 0.2910547396528705, y: 0.2590120160213618}},
        {point1: {x: 0.4032042723631509, y: 0.16421895861148197}, point2: {x: 0.30574098798397864, y: 0.260347129506008}},
        {point1: {x: 0.27369826435246997, y: 0.07476635514018691}, point2: {x: 0.3324432576769025, y: 0.22296395193591456}},
        {point1: {x: 0.34979973297730305, y: 0.13351134846461948}, point2: {x: 0.35246995994659547, y: 0.07476635514018691}},
        {point1: {x: 0.35246995994659547, y: 0.07476635514018691}, point2: {x: 0.4098798397863818, y: 0.044058744993324434}},
        {point1: {x: 0.4032042723631509, y: 0.16421895861148197}, point2: {x: 0.4098798397863818, y: 0.044058744993324434}},
        {point1: {x: 0.4098798397863818, y: 0.044058744993324434}, point2: {x: 0.4499332443257677, y: 0.06141522029372497}},
        {point1: {x: 0.4499332443257677, y: 0.06141522029372497}, point2: {x: 0.4606141522029373, y: 0.16955941255006676}},
        {point1: {x: 0.45660881174899864, y: 0.1068090787716956}, point2: {x: 0.4766355140186916, y: 0.05874499332443257}},
        {point1: {x: 0.4766355140186916, y: 0.05874499332443257}, point2: {x: 0.5287049399198932, y: 0.0520694259012016}},
        {point1: {x: 0.5287049399198932, y: 0.0520694259012016}, point2: {x: 0.48464619492656874, y: 0.17356475300400534}},
        {point1: {x: 0.5981308411214953, y: 0.1882510013351135}, point2: {x: 0.4032042723631509, y: 0.16421895861148197}},
        {point1: {x: 0.5594125500667557, y: 0.08945260347129506}, point2: {x: 0.5460614152202937, y: 0.1802403204272363}},
        {point1: {x: 0.5287049399198932, y: 0.0520694259012016}, point2: {x: 0.5594125500667557, y: 0.08945260347129506}},
        {point1: {x: 0.5981308411214953, y: 0.1882510013351135}, point2: {x: 0.5594125500667557, y: 0.22963951935914553}},
        {point1: {x: 0.5594125500667557, y: 0.22963951935914553}, point2: {x: 0.45260347129506007, y: 0.19893190921228304}},
        {point1: {x: 0.45260347129506007, y: 0.19893190921228304}, point2: {x: 0.3658210947930574, y: 0.2656875834445928}},
        {point1: {x: 0.376502002670227, y: 0.4392523364485981}, point2: {x: 0.3658210947930574, y: 0.2656875834445928}},
        {point1: {x: 0.3991989319092123, y: 0.2977303070761015}, point2: {x: 0.417890520694259, y: 0.3684913217623498}},
        {point1: {x: 0.376502002670227, y: 0.4392523364485981}, point2: {x: 0.4512683578104139, y: 0.32710280373831774}},
        {point1: {x: 0.4512683578104139, y: 0.32710280373831774}, point2: {x: 0.3991989319092123, y: 0.2977303070761015}},
        {point1: {x: 0.3991989319092123, y: 0.2977303070761015}, point2: {x: 0.46328437917222964, y: 0.253671562082777}},
        {point1: {x: 0.3991989319092123, y: 0.2977303070761015}, point2: {x: 0.3658210947930574, y: 0.2656875834445928}},
        {point1: {x: 0.46328437917222964, y: 0.253671562082777}, point2: {x: 0.45260347129506007, y: 0.19893190921228304}},
        {point1: {x: 0.5380507343124166, y: 0.2683578104138852}, point2: {x: 0.46328437917222964, y: 0.253671562082777}},
        {point1: {x: 0.5433911882510013, y: 0.32443257676902537}, point2: {x: 0.5380507343124166, y: 0.2683578104138852}},
        {point1: {x: 0.5433911882510013, y: 0.32443257676902537}, point2: {x: 0.4512683578104139, y: 0.32710280373831774}},
        {point1: {x: 0.3951935914552737, y: 0.5033377837116155}, point2: {x: 0.5433911882510013, y: 0.32443257676902537}},
        {point1: {x: 0.5540720961281709, y: 0.38451268357810414}, point2: {x: 0.5433911882510013, y: 0.32443257676902537}},
        {point1: {x: 0.4939919893190921, y: 0.5260347129506008}, point2: {x: 0.5540720961281709, y: 0.38451268357810414}},
        {point1: {x: 0.7409879839786382, y: 0.3404539385847797}, point2: {x: 0.5540720961281709, y: 0.38451268357810414}},
        {point1: {x: 0.7676902536715621, y: 0.36315086782376504}, point2: {x: 0.7409879839786382, y: 0.3404539385847797}},
        {point1: {x: 0.7409879839786382, y: 0.3404539385847797}, point2: {x: 0.5861148197596796, y: 0.3871829105473965}},
        {point1: {x: 0.7610146862483311, y: 0.41255006675567424}, point2: {x: 0.671562082777036, y: 0.43124165554072097}},
        {point1: {x: 0.7610146862483311, y: 0.41255006675567424}, point2: {x: 0.7676902536715621, y: 0.36315086782376504}},
        {point1: {x: 0.7676902536715621, y: 0.36315086782376504}, point2: {x: 0.6355140186915887, y: 0.40053404539385845}},
        {point1: {x: 0.7409879839786382, y: 0.3404539385847797}, point2: {x: 0.7463284379172229, y: 0.2883845126835781}},
        {point1: {x: 0.7089452603471295, y: 0.2523364485981308}, point2: {x: 0.7463284379172229, y: 0.2883845126835781}},
        {point1: {x: 0.5380507343124166, y: 0.2683578104138852}, point2: {x: 0.7089452603471295, y: 0.2523364485981308}},
        {point1: {x: 0.5594125500667557, y: 0.22963951935914553}, point2: {x: 0.5767690253671562, y: 0.2630173564753004}},
        {point1: {x: 0.5981308411214953, y: 0.1882510013351135}, point2: {x: 0.6381842456608812, y: 0.2590120160213618}},
        {point1: {x: 0.45260347129506007, y: 0.19893190921228304}, point2: {x: 0.4032042723631509, y: 0.16421895861148197}},
        {point1: {x: 0.3658210947930574, y: 0.2656875834445928}, point2: {x: 0.30574098798397864, y: 0.260347129506008}},
        {point1: {x: 0.5433911882510013, y: 0.32443257676902537}, point2: {x: 0.7463284379172229, y: 0.2883845126835781}},
        {point1: {x: 0.5594125500667557, y: 0.22963951935914553}, point2: {x: 0.5554072096128171, y: 0.2643524699599466}},
        {point1: {x: 0.2162883845126836, y: 0.2977303070761015}, point2: {x: 0.1628838451268358, y: 0.4098798397863818}}
    ]
};

var graphPattern = {
    points: [
        {x: 0.04336043360433604, y: 0.948509485094851},
        {x: 0.8157181571815718, y: 0.9512195121951219},
        {x: 0.04336043360433604, y: 0.04607046070460705},
        {x: 0.04336043360433604, y: 0.8238482384823849},
        {x: 0.8157181571815718, y: 0.8238482384823849},
        {x: 0.04336043360433604, y: 0.5745257452574526},
        {x: 0.8184281842818428, y: 0.5691056910569106},
        {x: 0.04607046070460705, y: 0.4444444444444444},
        {x: 0.8184281842818428, y: 0.4444444444444444},
        {x: 0.04878048780487805, y: 0.31978319783197834},
        {x: 0.8130081300813008, y: 0.31978319783197834},
        {x: 0.04336043360433604, y: 0.19241192411924118},
        {x: 0.8157181571815718, y: 0.19241192411924118},
        {x: 0.04336043360433604, y: 0.06504065040650407},
        {x: 0.8102981029810298, y: 0.06775067750677506},
        {x: 0.04336043360433604, y: 0.6910569105691057},
        {x: 0.8184281842818428, y: 0.6964769647696477},
        {x: 0.04607046070460705, y: 0.7018970189701897},
        {x: 0.06775067750677506, y: 0.7127371273712737},
        {x: 0.08401084010840108, y: 0.7452574525745257},
        {x: 0.1111111111111111, y: 0.7560975609756098},
        {x: 0.14905149051490515, y: 0.7642276422764228},
        {x: 0.1978319783197832, y: 0.6910569105691057},
        {x: 0.23577235772357724, y: 0.6612466124661247},
        {x: 0.24661246612466126, y: 0.6775067750677507},
        {x: 0.27371273712737126, y: 0.6666666666666666},
        {x: 0.31978319783197834, y: 0.7181571815718157},
        {x: 0.37669376693766937, y: 0.7723577235772358},
        {x: 0.42276422764227645, y: 0.7073170731707317},
        {x: 0.46883468834688347, y: 0.6991869918699187},
        {x: 0.5203252032520326, y: 0.7100271002710027},
        {x: 0.5474254742547425, y: 0.7506775067750677},
        {x: 0.5962059620596206, y: 0.7127371273712737},
        {x: 0.6368563685636857, y: 0.7479674796747967},
        {x: 0.6856368563685636, y: 0.7804878048780488},
        {x: 0.7046070460704607, y: 0.7615176151761518},
        {x: 0.7181571815718157, y: 0.7777777777777778},
        {x: 0.7669376693766937, y: 0.7317073170731707},
        {x: 0.7940379403794038, y: 0.7425474254742548},
        {x: 0.8184281842818428, y: 0.7154471544715447},
    ], vertices: [
        {point1: {x: 0.04336043360433604, y: 0.948509485094851}, point2: {x: 0.8157181571815718, y: 0.9512195121951219}},
        {point1: {x: 0.04336043360433604, y: 0.948509485094851}, point2: {x: 0.04336043360433604, y: 0.04607046070460705}},
        {point1: {x: 0.04336043360433604, y: 0.8238482384823849}, point2: {x: 0.8157181571815718, y: 0.8238482384823849}},
        {point1: {x: 0.04336043360433604, y: 0.6910569105691057}, point2: {x: 0.8184281842818428, y: 0.6964769647696477}},
        {point1: {x: 0.04336043360433604, y: 0.5745257452574526}, point2: {x: 0.8184281842818428, y: 0.5691056910569106}},
        {point1: {x: 0.04607046070460705, y: 0.4444444444444444}, point2: {x: 0.8184281842818428, y: 0.4444444444444444}},
        {point1: {x: 0.04878048780487805, y: 0.31978319783197834}, point2: {x: 0.8130081300813008, y: 0.31978319783197834}},
        {point1: {x: 0.04336043360433604, y: 0.19241192411924118}, point2: {x: 0.8157181571815718, y: 0.19241192411924118}},
        {point1: {x: 0.04336043360433604, y: 0.06504065040650407}, point2: {x: 0.8102981029810298, y: 0.06775067750677506}},
        {point1: {x: 0.04607046070460705, y: 0.7018970189701897}, point2: {x: 0.06775067750677506, y: 0.7127371273712737}},
        {point1: {x: 0.06775067750677506, y: 0.7127371273712737}, point2: {x: 0.08401084010840108, y: 0.7452574525745257}},
        {point1: {x: 0.08401084010840108, y: 0.7452574525745257}, point2: {x: 0.1111111111111111, y: 0.7560975609756098}},
        {point1: {x: 0.1111111111111111, y: 0.7560975609756098}, point2: {x: 0.14905149051490515, y: 0.7642276422764228}},
        {point1: {x: 0.14905149051490515, y: 0.7642276422764228}, point2: {x: 0.1978319783197832, y: 0.6910569105691057}},
        {point1: {x: 0.1978319783197832, y: 0.6910569105691057}, point2: {x: 0.23577235772357724, y: 0.6612466124661247}},
        {point1: {x: 0.23577235772357724, y: 0.6612466124661247}, point2: {x: 0.24661246612466126, y: 0.6775067750677507}},
        {point1: {x: 0.24661246612466126, y: 0.6775067750677507}, point2: {x: 0.27371273712737126, y: 0.6666666666666666}},
        {point1: {x: 0.27371273712737126, y: 0.6666666666666666}, point2: {x: 0.31978319783197834, y: 0.7181571815718157}},
        {point1: {x: 0.31978319783197834, y: 0.7181571815718157}, point2: {x: 0.37669376693766937, y: 0.7723577235772358}},
        {point1: {x: 0.37669376693766937, y: 0.7723577235772358}, point2: {x: 0.42276422764227645, y: 0.7073170731707317}},
        {point1: {x: 0.42276422764227645, y: 0.7073170731707317}, point2: {x: 0.46883468834688347, y: 0.6991869918699187}},
        {point1: {x: 0.46883468834688347, y: 0.6991869918699187}, point2: {x: 0.5203252032520326, y: 0.7100271002710027}},
        {point1: {x: 0.5203252032520326, y: 0.7100271002710027}, point2: {x: 0.5474254742547425, y: 0.7506775067750677}},
        {point1: {x: 0.5474254742547425, y: 0.7506775067750677}, point2: {x: 0.5962059620596206, y: 0.7127371273712737}},
        {point1: {x: 0.5962059620596206, y: 0.7127371273712737}, point2: {x: 0.6368563685636857, y: 0.7479674796747967}},
        {point1: {x: 0.6368563685636857, y: 0.7479674796747967}, point2: {x: 0.6856368563685636, y: 0.7804878048780488}},
        {point1: {x: 0.6856368563685636, y: 0.7804878048780488}, point2: {x: 0.7046070460704607, y: 0.7615176151761518}},
        {point1: {x: 0.7046070460704607, y: 0.7615176151761518}, point2: {x: 0.7181571815718157, y: 0.7777777777777778}},
        {point1: {x: 0.7181571815718157, y: 0.7777777777777778}, point2: {x: 0.7669376693766937, y: 0.7317073170731707}},
        {point1: {x: 0.7669376693766937, y: 0.7317073170731707}, point2: {x: 0.7940379403794038, y: 0.7425474254742548}},
        {point1: {x: 0.7940379403794038, y: 0.7425474254742548}, point2: {x: 0.8184281842818428, y: 0.7154471544715447}},
    ]
};